<% my_apprentices = current_user.apprentices.map { |x| "#{User.find(x.user_id).id} - #{User.find(x.user_id).last_name}, #{User.find(x.user_id).first_name}" } %>

<%# my_host_validators = [] %>
<%# my_host_validator_ids = current_user.host_validators %>
<%# my_host_validator_ids.each do |x| %>
<%# my_host_validators << User.find(x.user_id).first_name %>
<%# end %>

<%= simple_form_for @placement do |f| %>
  <%= f.association :host_validator, collection: User.host_validators, label: 'Primary Validator' %>
  <%= f.association :host_invoice_contact, collection: User.host_invoice_contacts, label: 'Invoice Contact', class: "form-control" %>
  <%= f.association :apprentice, label: 'Apprentice', collection: my_apprentices, class: "form-control" %>
  <%= f.input :pl_start_date, label: 'Placement Start Date', class: "form-control" %>
  <%= f.input :pl_end_date, label: 'Placement End Date', class: "form-control" %>
  <%= f.input :address, label: "Postcode", class: "form-control" %>
  <%= f.input :interview_date, placeholder: 'DD/MM/YYYY', class: "form-control" %>
  <%= f.input :hourly_rate_cents, class: "form-control" %>
  <%= f.submit class: "btn btn-primary" %>
<% end %>
<%= link_to "back", :back %>


