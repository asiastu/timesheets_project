<% my_apprentices = current_user.apprentices.map { |x| "#{User.find(x.user_id).id} - #{User.find(x.user_id).last_name}, #{User.find(x.user_id).first_name}" } %>

<% host_validators = User.host_validators.map { |x| "#{x.id} - Company: #{x.company_name} #{x.last_name}, #{x.first_name}" } %>

<% invoice_contacts = User.host_invoice_contacts.map { |x| "#{x.id} - Company: #{x.company_name} #{x.last_name}, #{x.first_name}" } %>
<div class="row">
  <div class="col-xs-8 col-xs-offset-2 ">
    <%= simple_form_for @placement do |f| %>
    <div class="row">
        <div class="col-xs-12 col-md-6 form-group">
          <%= f.association :apprentice, label: 'Apprentice', collection: my_apprentices %>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12 col-md-6 form-group">
          <%= f.association :host_validator, collection: host_validators, label: 'Primary Validator' %>
        </div>
        <div class="col-xs-12 col-md-6 form-group">
          <%= f.association :host_invoice_contact, collection: invoice_contacts, label: 'Invoice Contact' %>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12 col-md-6 form-group">
          <%= f.input :address, label: "Postcode" %>
        </div>
        <div class="col-xs-12 col-md-6 form-group">
          <%= f.input :hourly_rate_cents %>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12 col-md-6 form-group">
          <%= f.input :pl_start_date, placeholder: 'YYYY-MM-DD', as: :string, label: 'Placement Start Date', input_html: {class: "datepicker"}%>
        </div>
        <div class="col-xs-12 col-md-6 form-group" >
            <%= f.input :pl_end_date, placeholder: 'YYYY-MM-DD', as: :string, label: 'Placement End Date', input_html: {class: "datepicker"} %>
        </div>
      </div>

      <%= f.submit class: "btn btn-primary placement-btn center-block" %>
    <% end %>
  </div>
</div>
